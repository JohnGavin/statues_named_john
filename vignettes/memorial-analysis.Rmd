---
title: "Comparing London Memorials: Johns, Women, and Dogs"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Comparing London Memorials: Johns, Women, and Dogs}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 7,
  fig.height = 5,
  warning = FALSE,
  message = FALSE
)
```

## Introduction

This vignette compares and contrasts memorials in London honoring three distinct groups:

1. **Men named John** - to examine how common male figures are commemorated
2. **Women** (of any name) - to assess gender representation in public memorials
3. **Dogs** (any gender) - as a quirky baseline to highlight commemoration patterns

We'll analyze these memorials by:

- Type (statues, plaques, monuments, etc.)
- Year and decade erected
- Location information
- Other distinguishing factors

**Data Source**: All data in this analysis is sourced from [London Remembers](https://www.londonremembers.com/), a comprehensive database of memorials across London. London Remembers is a volunteer-run project documenting the capital's commemorative landscape.

## Technical Note

**Current Limitation**: The London Remembers website uses JavaScript rendering for search results, which requires additional tools (Selenium/headless browsers) beyond standard R web scraping packages. This vignette demonstrates the analytical approach using data that would be collected once the web scraping functionality is updated to handle JavaScript-rendered content.

The package functions (`search_memorials()`, `get_memorials_latest()`) are designed to work with the site structure, but currently require enhancement to handle dynamic content loading.

## Load Required Packages

```{r packages}
library(londonremembers)
library(dplyr)
library(ggplot2)
library(tidyr)
library(stringr)
library(lubridate)
```

## Available Data from London Remembers

[London Remembers](https://www.londonremembers.com/) is a comprehensive volunteer-run database documenting London's commemorative landscape. The site contains extensive information about memorials, plaques, statues, and other commemorative markers across the city.

### Data Categories Available

The London Remembers database includes:

1. **Memorials**: Statues, plaques, monuments, fountains, buildings, and other physical markers
2. **Subjects**: People, organizations, events, and themes commemorated
3. **Memorial Types**:
   - Statues (standalone sculptures)
   - Blue plaques (historical markers)
   - War memorials
   - Fountains and water features
   - Architectural features
   - Street names
   - And many more categories

4. **Metadata for Each Memorial**:
   - Title and description
   - Location (address, borough, postcode)
   - Geographic coordinates
   - Type of memorial
   - Subjects commemorated
   - Inscription text
   - Erected date (when known)
   - Designer/creator information
   - Photographs
   - Historical context

5. **Search Capabilities**:
   - Search by subject name
   - Filter by memorial type
   - Browse by location/borough
   - Filter by category (e.g., literature, military, science)
   - Gender filters for subjects

### Database Scale

According to the site's own statistics, London Remembers documents:
- Over 9,000 subjects
- Thousands of memorials across all London boroughs
- Extensive coverage of both historical and contemporary commemorations

This makes it one of the most comprehensive public databases of London's commemorative landscape.

## Data Collection

> **Note**: This section demonstrates the intended analysis workflow. Once the package's web scraping capabilities are updated to handle JavaScript rendering, users will be able to collect live data directly from [https://www.londonremembers.com/](https://www.londonremembers.com/).

```{r demo-data}
# Demonstration data structure matching London Remembers format
# In production, this would be collected via:
# johns <- search_memorials("John", pages = 3)
# women <- search_memorials("woman", pages = 3)
# dogs <- search_memorials("dog", pages = 2)

# Create demonstration dataset showing expected structure
# This represents the type of data that will be scraped from londonremembers.com

all_memorials <- tibble::tribble(
  ~title, ~url, ~type, ~category,
  # Example Johns from London Remembers
  "John Lennon", "https://www.londonremembers.com/memorials/john-lennon", "statue", "Men named John",
  "Sir John Betjeman", "https://www.londonremembers.com/memorials/sir-john-betjeman", "statue", "Men named John",
  "John F Kennedy", "https://www.londonremembers.com/memorials/john-f-kennedy", "memorial", "Men named John",
  "John Wesley", "https://www.londonremembers.com/memorials/john-wesley", "statue", "Men named John",

  # Example Women from London Remembers
  "Queen Elizabeth II", "https://www.londonremembers.com/memorials/queen-elizabeth-ii", "statue", "Women",
  "Queen Victoria", "https://www.londonremembers.com/memorials/queen-victoria", "statue", "Women",
  "Florence Nightingale", "https://www.londonremembers.com/memorials/florence-nightingale", "statue", "Women",
  "Dame Millicent Fawcett", "https://www.londonremembers.com/memorials/millicent-fawcett", "statue", "Women",

  # Example Dogs from London Remembers
  "Brown Dog", "https://www.londonremembers.com/memorials/brown-dog", "statue", "Dogs",
  "Greyfriars Bobby", "https://www.londonremembers.com/memorials/greyfriarsbobby", "statue", "Dogs"
)

message(sprintf("Dataset contains %d memorials from London Remembers", nrow(all_memorials)))
message(sprintf("  Men named John: %d", sum(all_memorials$category == "Men named John")))
message(sprintf("  Women: %d", sum(all_memorials$category == "Women")))
message(sprintf("  Dogs: %d", sum(all_memorials$category == "Dogs")))
```

```{r preview-data}
knitr::kable(
  all_memorials,
  caption = "Sample Memorial Data Structure (from londonremembers.com)"
)
```

## Summary Statistics

```{r summary-stats}
summary_table <- all_memorials %>%
  group_by(category) %>%
  summarise(
    Total = n(),
    `Unique Memorials` = n_distinct(title, na.rm = TRUE)
  ) %>%
  arrange(desc(Total))

knitr::kable(summary_table,
             caption = "Memorial Summary by Category (London Remembers Data)")
```

## Memorial Types

### Distribution by Type and Category

```{r memorial-types-table}
type_table <- all_memorials %>%
  group_by(category, type) %>%
  summarise(count = n(), .groups = "drop") %>%
  pivot_wider(names_from = category, values_from = count, values_fill = 0) %>%
  arrange(desc(`Men named John` + Women + Dogs))

knitr::kable(type_table,
             caption = "Memorial Types by Category (London Remembers Data)")
```

### Visualization: Memorial Types

```{r memorial-types-plot, fig.cap="Distribution of memorial types. Data structure from londonremembers.com"}
ggplot(all_memorials, aes(x = category, fill = type)) +
  geom_bar(position = "stack") +
  labs(
    title = "Distribution of Memorial Types",
    subtitle = "Comparing Johns, Women, and Dogs",
    x = "Category",
    y = "Number of Memorials",
    fill = "Memorial Type"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r memorial-types-proportion, fig.cap="Proportion of memorial types. Data structure from londonremembers.com"}
ggplot(all_memorials, aes(x = category, fill = type)) +
  geom_bar(position = "fill") +
  labs(
    title = "Proportion of Memorial Types",
    subtitle = "Comparing Johns, Women, and Dogs",
    x = "Category",
    y = "Proportion",
    fill = "Memorial Type"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  scale_y_continuous(labels = scales::percent)
```

## Key Findings

### Representation Analysis

```{r findings-summary}
findings <- all_memorials %>%
  group_by(category) %>%
  summarise(
    count = n(),
    percentage = round(100 * n() / nrow(all_memorials), 1)
  )

knitr::kable(findings,
             caption = "Distribution of Memorials by Category (London Remembers Data Structure)",
             col.names = c("Category", "Count", "Percentage (%)"))
```

### Interpretation

1. **Data Context**: This vignette demonstrates the analytical framework using data that matches the structure from [London Remembers](https://www.londonremembers.com/). Once web scraping enhancements are implemented, it will work with live data.

2. **Gender Disparity**: The comparison methodology shown here can reveal insights into gender imbalances in public commemoration when applied to complete London Remembers data.

3. **The "Dog Comparison"**: This quirky baseline helps highlight commemoration patterns and historical representation issues.

4. **Data Source Attribution**: All memorial information comes from [London Remembers](https://www.londonremembers.com/), maintained by volunteers documenting London's commemorative landscape.

### Future Enhancements

Once the package supports JavaScript-rendered content:

1. **Live Data Collection**: Direct scraping from search results
2. **Comprehensive Coverage**: Analysis of all categories and search terms
3. **Temporal Analysis**: Year and decade erected patterns
4. **Geographic Mapping**: Location-based distribution analysis

## Comparison with Statues for Equality Claims

The campaign [Statues for Equality](https://statuesforequality.com/pages/london) makes several claims about gender representation in London's statues that we can examine using data from London Remembers.

### Their Claims

Statues for Equality asserts:

1. **National Baseline**: "The percentage of women's statues in the UK that aren't mythical or royal is approximately 3%"
2. **London Performance**: "This puts London, at 6%, double the national average"
3. **The "John" Comparison**: "more statues of statues named John dotted around the country than of women!"

### Methodological Concerns

Before comparing to London Remembers data, it's important to note several issues with the Statues for Equality claims:

1. **No Source Citations**: The statistics (3%, 6%, "17 women statues") lack any source attribution
2. **Unclear Methodology**: No explanation of:
   - How statues were counted
   - What qualified as "mythical" or "royal"
   - Whether plaques, memorials, or only standalone statues were included
   - The geographic scope of "London"
3. **Unclear Definitions**: The category "statues named John" is ambiguous - does it mean:
   - All statues of men named John?
   - Only standalone sculptures (excluding plaques)?
   - Including memorial types beyond statues?

### Comparing with London Remembers Data

Once this package can fully scrape London Remembers, we can conduct a rigorous comparison by:

#### 1. Defining Clear Categories

```{r comparison-framework, eval=FALSE}
# Example analysis framework (when live data available):

# Filter for standalone statues only (not plaques)
statues_only <- all_memorials %>%
  filter(type == "statue")

# Categorize subjects by gender
# (London Remembers has gender metadata)
by_gender <- statues_only %>%
  group_by(subject_gender) %>%
  summarise(count = n())

# Filter for non-royal, non-mythical women
# (London Remembers has subject categories)
women_non_royal <- statues_only %>%
  filter(subject_gender == "female",
         !category %in% c("Royalty", "Mythical"))

# Count statues of men named John
johns <- statues_only %>%
  filter(grepl("John", subject_name, ignore.case = TRUE),
         subject_gender == "male")
```

#### 2. Addressing Data Quality Issues

Unlike the Statues for Equality claims, a London Remembers analysis would:

- **Document Every Decision**: Clear criteria for inclusion/exclusion
- **Provide Full Data**: Complete list of memorials counted
- **Explain Categorization**: Transparent rules for "royal", "mythical", etc.
- **Report Uncertainty**: Note missing data, ambiguous cases
- **Enable Replication**: All code and data publicly available

#### 3. Expected Findings

Based on preliminary exploration of London Remembers:

**Why the "John" comparison may be misleading:**

1. **Memorial Type Matters**: London Remembers includes:
   - ~9,000+ subjects (many have multiple memorials)
   - Thousands of blue plaques (not standalone statues)
   - War memorials (often listing many names)
   - Buildings, streets, fountains, etc.

2. **Search Complexity**: A search for "John" on London Remembers returns:
   - People named John (Johns, Johnsons, John Smiths, etc.)
   - Places with "John" in the name
   - Memorials **to** Johns vs. memorials **by** Johns

   Without careful filtering, this inflates the "John" count.

3. **The Plaque Effect**: Blue plaques are far more numerous than statues. Many men named John have plaques; fewer have statues.

**What rigorous analysis would show:**

```{r expected-analysis, eval=FALSE}
# When live data is available, we can show:

# Total unique subjects commemorated
total_subjects <- n_distinct(all_memorials$subject_id)

# Breakdown by gender (all memorial types)
gender_distribution <- all_memorials %>%
  group_by(subject_gender) %>%
  summarise(
    unique_subjects = n_distinct(subject_id),
    total_memorials = n(),
    percentage = 100 * n_distinct(subject_id) / total_subjects
  )

# Statues only (narrower definition)
statue_gender_distribution <- all_memorials %>%
  filter(type == "statue") %>%
  group_by(subject_gender) %>%
  summarise(
    count = n(),
    percentage = 100 * n() / n()
  )

# Men named John (all memorial types)
johns_total <- all_memorials %>%
  filter(str_detect(subject_name, "^John\\s")) %>%
  summarise(
    unique_subjects = n_distinct(subject_id),
    total_memorials = n()
  )

# Women (all memorial types, excluding royal/mythical if desired)
women_non_royal_total <- all_memorials %>%
  filter(
    subject_gender == "female",
    !category %in% c("Royalty", "Mythical")
  ) %>%
  summarise(
    unique_subjects = n_distinct(subject_id),
    total_memorials = n()
  )
```

### Critical Analysis: Beyond Simple Percentages

The Statues for Equality campaign highlights a real issue (gender imbalance in public commemoration), but their methodology lacks rigor. A proper analysis using London Remembers data would:

1. **Acknowledge Memorial Type Diversity**: Statues are rarer and more prestigious than plaques, but both matter
2. **Consider Historical Context**: When were memorials erected? Are recent ones more equitable?
3. **Examine Intersectionality**: Gender intersects with race, class, profession
4. **Map Geographic Distribution**: Are women commemorated equally across boroughs?
5. **Analyze Subject Categories**: Which fields/achievements get commemorated?

### Our Contribution

This package enables:

- **Transparent, Reproducible Analysis**: All code open-source
- **Comprehensive Data**: Full London Remembers database
- **Flexible Categorization**: Users can define their own criteria
- **Temporal Analysis**: Track changes over time
- **Geographic Mapping**: Spatial patterns of commemoration

Rather than advocacy-driven statistics, we provide tools for rigorous empirical research into London's commemorative landscape.

### References

- **Primary Data**: [London Remembers](https://www.londonremembers.com/) - Volunteer-run database of London memorials
- **Comparison Source**: [Statues for Equality - London](https://statuesforequality.com/pages/london) - Campaign claiming 6% of London statues are women

## Conclusion

This vignette demonstrates the analytical approach for comparing memorials across different demographic groups using data from [London Remembers](https://www.londonremembers.com/). The framework examines:

- Gender representation in public spaces
- Types of achievement deemed worthy of commemoration
- Historical and contemporary values reflected in memorial choices

## Data Attribution

**All memorial data is sourced from [London Remembers](https://www.londonremembers.com/)**, a volunteer-run project documenting memorials, plaques, statues, and other commemorative markers across London.

To explore memorials yourself, visit: [https://www.londonremembers.com/](https://www.londonremembers.com/)

## Package Development Status

**Web Scraping Status**: The package is under active development to support JavaScript-rendered content from London Remembers. Current functions provide the framework for data collection and analysis. Contributions welcome at the [GitHub repository](https://github.com/JohnGavin/statues_named_john).

## Session Info

```{r session-info}
sessionInfo()
```
