<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access and Analyze London Memorials Data • londonremembers</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Access and Analyze London Memorials Data">
<meta name="description" content="Provides functions to scrape and analyze memorial data from London Remembers (www.londonremembers.com), including statues, plaques, and other commemorative markers across London. Includes tools for comparative analysis of memorials by subject type and characteristics.">
<meta property="og:description" content="Provides functions to scrape and analyze memorial data from London Remembers (www.londonremembers.com), including statues, plaques, and other commemorative markers across London. Includes tools for comparative analysis of memorials by subject type and characteristics.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">londonremembers</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/memorial-analysis.html">Memorial Analysis</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/JohnGavin/statues_named_john"><span class="fab fa fab-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="londonremembers-multi-source-analysis-of-london-statues">londonremembers: Multi-Source Analysis of London Statues<a class="anchor" aria-label="anchor" href="#londonremembers-multi-source-analysis-of-london-statues"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>londonremembers</code> R package provides a robust, transparent, and reproducible framework for acquiring, analyzing, and interactively mapping public statues and memorials in London. Moving beyond a single data source, this package integrates information from multiple authoritative APIs (Wikidata, OpenStreetMap, and Greater London Historic Environment Record) to create a comprehensive, deduplicated dataset. Its core purpose is to enable in-depth analysis of London’s commemorative landscape, facilitate the validation of public claims (e.g., regarding gender representation), and offer interactive data exploration.</p>
<blockquote>
<p>In England’s grand capital, dear, More Johns than dames, it appears. For each woman of might, A John’s in plain sight, Confirming our gendered-statue fears.</p>
</blockquote>
<div class="section level2">
<h2 id="data-sources">Data Sources<a class="anchor" aria-label="anchor" href="#data-sources"></a>
</h2>
<p>This package leverages a robust multi-source data acquisition strategy to build a comprehensive dataset of London’s statues and memorials. This approach ensures broader coverage, higher data quality, and improved reproducibility compared to single-source methods.</p>
<p><strong>Primary Data Sources:</strong></p>
<ul>
<li>
<strong>Wikidata</strong>: Structured linked open data, queried via its SPARQL endpoint. Provides rich metadata on subjects, creators, and precise geographic coordinates.</li>
<li>
<strong>OpenStreetMap (OSM)</strong>: Community-contributed geographic data, accessed via the Overpass API. Excellent for detailed location information and various memorial tags.</li>
<li>
<strong>Greater London Historic Environment Record (GLHER)</strong>: Professional heritage data, accessed via CSV exports. Offers authoritative records with high data quality.</li>
</ul>
<p><strong>Note on <code>londonremembers.com</code>:</strong> While initially a source of interest, direct programmatic access (e.g., web scraping) to <code>londonremembers.com</code> proved unfeasible due to its JavaScript-rendered content and lack of a public API. This project thus pivots to the above API-driven sources to ensure reliability and reproducibility.</p>
<p>This multi-source strategy allows for spatial deduplication and intelligent merging of records, creating a unified and enriched dataset for analysis.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"JohnGavin/statues_named_john"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note on Nix Environment:</strong> This project is developed within a Nix environment to ensure full reproducibility and consistent package management. It is highly recommended to use the provided Nix configuration (<code>default.nix</code>) to set up your development environment. This will ensure all necessary R packages (e.g., <code>WikidataQueryServiceR</code>, <code>osmdata</code>, <code>sf</code>, <code>leaflet</code>) and system dependencies are correctly installed. Refer to the <code>default.nix</code> and <code>QUICK_START_GUIDE.md</code> for details on setting up and using the Nix shell.</p>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<p>The <code>londonremembers</code> package offers a comprehensive suite of functionalities for exploring London’s commemorative landscape:</p>
<ul>
<li>
<strong>Multi-Source Data Retrieval</strong>: Seamlessly acquire statue and memorial data from Wikidata, OpenStreetMap, and GLHER APIs.</li>
<li>
<strong>Data Standardization &amp; Deduplication</strong>: Standardize diverse data formats into a common schema and intelligently deduplicate records based on geographic proximity using spatial algorithms.</li>
<li>
<strong>Interactive Mapping</strong>: Generate rich interactive Leaflet maps displaying statue locations with detailed pop-ups (name, subject, year, material, sculptor, image, and source links) and marker clustering for optimal visualization.</li>
<li>
<strong>Gender Analysis</strong>: Analyze the representation of genders among commemorated subjects, enabling critical validation of public claims (e.g., “more statues of men named John than women”).</li>
<li>
<strong>Reproducible Workflow</strong>: Built with reproducibility in mind, leveraging caching, <code>targets</code> pipelines, and a transparent methodology.</li>
</ul>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The <code>londonremembers</code> package simplifies the process of acquiring, processing, and analyzing statue data. Below are basic examples to get started. For a comprehensive guide, refer to the project vignette.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yourusername/londonremembers" class="external-link">londonremembers</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span> <span class="co"># For viewing the map</span></span>
<span></span>
<span><span class="co"># 1. Retrieve data from multiple sources (with caching)</span></span>
<span><span class="co">#    These functions query the respective APIs</span></span>
<span><span class="va">wikidata_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_statues_wikidata.html">get_statues_wikidata</a></span><span class="op">(</span>location <span class="op">=</span> <span class="st">"Q84"</span>, cache_path <span class="op">=</span> <span class="st">"data-raw/wikidata_cache.rds"</span><span class="op">)</span></span>
<span><span class="va">osm_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_statues_osm.html">get_statues_osm</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.510375</span>, <span class="fl">51.28676</span>, <span class="fl">0.334015</span>, <span class="fl">51.691874</span><span class="op">)</span>, cache_path <span class="op">=</span> <span class="st">"data-raw/osm_cache.rds"</span><span class="op">)</span></span>
<span><span class="va">glher_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_statues_glher.html">get_statues_glher</a></span><span class="op">(</span>cache_path <span class="op">=</span> <span class="st">"data-raw/glher_cache.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Standardize data to a common schema</span></span>
<span><span class="va">wikidata_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/standardize_statue_data.html">standardize_statue_data</a></span><span class="op">(</span><span class="va">wikidata_data</span>, <span class="st">"wikidata"</span><span class="op">)</span></span>
<span><span class="va">osm_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/standardize_statue_data.html">standardize_statue_data</a></span><span class="op">(</span><span class="va">osm_data</span>, <span class="st">"osm"</span><span class="op">)</span></span>
<span><span class="va">glher_std</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/standardize_statue_data.html">standardize_statue_data</a></span><span class="op">(</span><span class="va">glher_data</span>, <span class="st">"glher"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Combine and deduplicate the data</span></span>
<span><span class="va">all_statues</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/combine_statue_sources.html">combine_statue_sources</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>wikidata <span class="op">=</span> <span class="va">wikidata_std</span>, osm <span class="op">=</span> <span class="va">osm_std</span>, glher <span class="op">=</span> <span class="va">glher_std</span><span class="op">)</span>,</span>
<span>  distance_threshold <span class="op">=</span> <span class="fl">50</span> <span class="co"># meters</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Total unique statues identified: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">all_statues</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Example: Total unique statues identified: 250</span></span>
<span></span>
<span><span class="co"># 4. Perform gender analysis</span></span>
<span><span class="va">gender_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/analyze_by_gender.html">analyze_by_gender</a></span><span class="op">(</span><span class="va">all_statues</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">gender_results</span><span class="op">$</span><span class="va">summary</span><span class="op">)</span></span>
<span><span class="co"># Example output:</span></span>
<span><span class="co">#   inferred_gender     n percent</span></span>
<span><span class="co"># 1            Male   180    72.0</span></span>
<span><span class="co"># 2          Female    50    20.0</span></span>
<span><span class="co"># 3         Unknown    15     6.0</span></span>
<span><span class="co"># 4          Animal     5     2.0</span></span>
<span></span>
<span><span class="co"># 5. Validate claims (e.g., "more Johns than women")</span></span>
<span><span class="va">johns_vs_women</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/compare_johns_vs_women.html">compare_johns_vs_women</a></span><span class="op">(</span><span class="va">all_statues</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="va">johns_vs_women</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span>
<span><span class="co"># Example: Found 20 statues named John (8.0%) vs 50 women statues (20.0%).</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Claim 'more Johns than women' validated (False if Johns &lt;= Women): "</span>, <span class="va">johns_vs_women</span><span class="op">$</span><span class="va">claim_validated</span><span class="op">)</span></span>
<span><span class="co"># Example: Claim 'more Johns than women' validated (False if Johns &lt;= Women): FALSE</span></span>
<span></span>
<span><span class="co"># 6. Create an interactive map</span></span>
<span><span class="va">statue_map</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/map_statues.html">map_statues</a></span><span class="op">(</span></span>
<span>  <span class="va">all_statues</span>,</span>
<span>  popup_fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"subject"</span>, <span class="st">"year_installed"</span>, <span class="st">"material"</span><span class="op">)</span>,</span>
<span>  color_by <span class="op">=</span> <span class="st">"source"</span>,</span>
<span>  cluster <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">statue_map</span> <span class="co"># Display the map in RStudio Viewer or browser</span></span>
<span><span class="co"># htmlwidgets::saveWidget(statue_map, "london_statues_map.html") # To save to HTML file</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<p>For a comprehensive walkthrough of the data acquisition, processing, analysis, and interactive mapping, please refer to the project’s main vignette. It provides detailed explanations and examples of the package’s functionalities.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"memorial-analysis"</span>, package <span class="op">=</span> <span class="st">"londonremembers"</span><span class="op">)</span></span></code></pre></div>
<p>You can also view the deployed vignette directly on GitHub Pages: <a href="https://johngavin.github.io/statues_named_john/articles/memorial-analysis.html" class="uri">https://johngavin.github.io/statues_named_john/articles/memorial-analysis.html</a></p>
</div>
<div class="section level2">
<h2 id="developer-documentation">Developer Documentation<a class="anchor" aria-label="anchor" href="#developer-documentation"></a>
</h2>
<p>For detailed information on the project’s architecture, research, and internal guidelines, please refer to the following documents:</p>
<ul>
<li>
<a href="R/setup/PROJECT_OVERVIEW.html"><strong>Project Overview</strong></a>: Comprehensive guide to the project plan and implementation details.</li>
<li>
<a href="AGENTS.html"><strong>Agent Guidelines</strong></a>: Internal workflow standards and reproducibility requirements.</li>
<li>
<a href="R/setup/QUICK_START_GUIDE.html"><strong>Quick Start Guide</strong></a>: Step-by-step guide for setting up and running the project pipeline.</li>
<li>
<a href="https://github.com/JohnGavin/statues_named_john/wiki" class="external-link"><strong>GitHub Wiki</strong></a>: Check the repository Wiki for FAQs, technical journals, and package evaluations.</li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/yourusername/londonremembers/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/yourusername/londonremembers/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing londonremembers</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>John GAvin <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JohnGavin/statues_named_john/actions" class="external-link"><img src="https://github.com/JohnGavin/statues_named_john/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/JohnGavin/statues_named_john" class="external-link"><img src="https://codecov.io/gh/JohnGavin/statues_named_john/branch/main/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John GAvin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
